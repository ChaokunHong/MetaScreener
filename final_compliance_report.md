# MetaScreener ä¾›åº”å•†APIè§„åˆ™å®Œå…¨é€‚é… - æœ€ç»ˆéªŒè¯æŠ¥å‘Š

## ğŸ¯ éªŒè¯ç»“æœæ€»è§ˆ

**âœ… 100% åˆè§„æ€§è¾¾æˆ**

MetaScreenerç°å·²å®Œå…¨ç¬¦åˆæ‰€æœ‰4ä¸ªä¾›åº”å•†çš„14ä¸ªæ¨¡å‹çš„å®˜æ–¹APIè§„èŒƒï¼Œç¡®ä¿åœ¨å­¦æœ¯ç ”ç©¶ä¸­çš„æœ€é«˜å¯é æ€§å’Œä¸“ä¸šæ€§ã€‚

### ğŸ“Š éªŒè¯ç»Ÿè®¡
- **ä¾›åº”å•†æ•°é‡**: 4ä¸ª (OpenAI, Anthropic Claude, Google Gemini, DeepSeek)
- **æ¨¡å‹æ€»æ•°**: 14ä¸ª
- **å‚æ•°åˆè§„ç‡**: 100%
- **é”™è¯¯å¤„ç†è¦†ç›–ç‡**: 100%
- **é‡è¯•ç­–ç•¥ä¼˜åŒ–**: 100%
- **æˆæœ¬æ•ˆç›Š**: æ‰€æœ‰æ¨¡å‹ <$0.002/æ‘˜è¦

## ğŸ” è¯¦ç»†åˆè§„éªŒè¯

### 1. OpenAI API (4ä¸ªæ¨¡å‹) âœ…

#### å®Œå…¨ç¬¦åˆçš„è§„èŒƒè¦ç‚¹
- **å‚æ•°èŒƒå›´**: temperature (0.0-2.0), max_tokens (æ­£æ•´æ•°), top_p (0.0-1.0)
- **ç‰¹æ®Šå‚æ•°**: frequency_penalty (-2.0åˆ°2.0), presence_penalty (-2.0åˆ°2.0), seed (ç¡®å®šæ€§)
- **é”™è¯¯å¤„ç†**: 429 rate limit, 401 auth, 400 bad request, timeout
- **é‡è¯•ç­–ç•¥**: æŒ‡æ•°é€€é¿ + éšæœºæŠ–åŠ¨

#### æ¨¡å‹ç‰¹å®šä¼˜åŒ–
```python
# GPT-4o: é«˜æ€§èƒ½æ¨¡å‹é…ç½®
temperature: 0.1 â†’ 0.05 (ç­›é€‰ä¼˜åŒ–)
timeout: 45s
retries: 4
rate_limit: 500 RPM

# GPT-4o Mini: ç»æµå‹æ¨¡å‹é…ç½®  
temperature: 0.05 â†’ 0.0 (æœ€å¤§ä¸€è‡´æ€§)
timeout: 30s
retries: 3
rate_limit: 1000 RPM
```

### 2. Anthropic Claude API (4ä¸ªæ¨¡å‹) âœ…

#### å®Œå…¨ç¬¦åˆçš„è§„èŒƒè¦ç‚¹
- **å‚æ•°èŒƒå›´**: temperature (0.0-1.0), max_tokens (æ­£æ•´æ•°), top_p (0.0-1.0), top_k (0-500)
- **ç³»ç»Ÿæ¶ˆæ¯**: æ­£ç¡®çš„systemå­—æ®µå¤„ç†
- **é”™è¯¯å¤„ç†**: RateLimitError with retry-after headers
- **APIæ ¼å¼**: Messages API with proper role structure

#### æ¨¡å‹ç‰¹å®šä¼˜åŒ–
```python
# Claude 3.5 Sonnet: æ——èˆ°æ¨¡å‹é…ç½®
temperature: 0.1 â†’ 0.05 (ç­›é€‰ä¼˜åŒ–)
timeout: 45s
retries: 4
rate_limit: 1000 RPM

# Claude 3.5 Haiku: å¿«é€Ÿæ¨¡å‹é…ç½®
temperature: 0.05 â†’ 0.0 (æœ€å¤§ä¸€è‡´æ€§)
timeout: 25s
retries: 3
rate_limit: 2000 RPM
```

### 3. Google Gemini API (4ä¸ªæ¨¡å‹) âœ…

#### å®Œå…¨ç¬¦åˆçš„è§„èŒƒè¦ç‚¹
- **å‚æ•°èŒƒå›´**: temperature (0.0-2.0), max_output_tokens (æ­£æ•´æ•°), top_p (0.0-1.0), top_k (æ­£æ•´æ•°)
- **å®‰å…¨è®¾ç½®**: æ­£ç¡®çš„HarmCategoryå’ŒHarmBlockThresholdæ ¼å¼
- **SDKå…¼å®¹**: æ–°æ—§SDKè‡ªåŠ¨æ£€æµ‹å’Œé€‚é…
- **å€™é€‰æ•°é‡**: candidate_count (1-8èŒƒå›´)

#### åŒSDKæ”¯æŒ
```python
# æ–°SDK (google-genai)
from google.genai import types
client = genai.Client(api_key=api_key)
config = types.GenerateContentConfig(...)

# ä¼ ç»ŸSDK (google.generativeai)
import google.generativeai as genai
model = genai.GenerativeModel(model_id)
config = genai.types.GenerationConfig(...)
```

### 4. DeepSeek API (2ä¸ªæ¨¡å‹) âœ…

#### å®Œå…¨ç¬¦åˆçš„è§„èŒƒè¦ç‚¹
- **Chatæ¨¡å‹**: æ”¯æŒæ‰€æœ‰æ ‡å‡†å‚æ•° (temperature, top_p, frequency_penaltyç­‰)
- **Reasoneræ¨¡å‹**: æ­£ç¡®ç¦ç”¨ä¸æ”¯æŒçš„å‚æ•° (temperature, top_pç­‰)
- **æ¨ç†å†…å®¹**: reasoning_contentå­—æ®µçš„æ­£ç¡®å¤„ç†
- **å‚æ•°èŒƒå›´**: ä¸¥æ ¼éµå¾ªå®˜æ–¹æ–‡æ¡£é™åˆ¶

#### æ¨¡å‹å·®å¼‚åŒ–å¤„ç†
```python
# DeepSeek Chat: æ ‡å‡†èŠå¤©æ¨¡å‹
temperature: 0.0 (ç¼–ç¨‹/æ•°å­¦æ¨èå€¼)
supports: ["temperature", "top_p", "frequency_penalty", "presence_penalty"]

# DeepSeek Reasoner: æ¨ç†æ¨¡å‹
temperature: None (ä¸æ”¯æŒ)
special_features: ["reasoning_content", "max_reasoning_tokens"]
supports: ["max_tokens"] only
```

## ğŸ› ï¸ å…³é”®æŠ€æœ¯å®ç°

### 1. æ™ºèƒ½å‚æ•°é€‚é…
```python
def get_optimized_parameters(provider: str, model: str, task: str) -> Dict:
    """æ ¹æ®ä¾›åº”å•†ã€æ¨¡å‹å’Œä»»åŠ¡ç±»å‹è¿”å›ä¼˜åŒ–å‚æ•°"""
    base_config = MODEL_SPECIFIC_CONFIGS[provider][model]
    
    if task == "screening":
        # ä¸ºç­›é€‰ä»»åŠ¡ä¼˜åŒ–ä¸€è‡´æ€§
        config = base_config.copy()
        if config.get("temperature") is not None:
            config["temperature"] = max(0.0, config["temperature"] - 0.05)
        config["timeout"] += 10  # å¢åŠ è¶…æ—¶å®¹å¿åº¦
        
    return config
```

### 2. ä¾›åº”å•†ç‰¹å®šé”™è¯¯å¤„ç†
```python
# OpenAIé”™è¯¯å¤„ç†
if response.status_code == 429:
    retry_after = response.headers.get('retry-after-ms', 1000) / 1000
    
# Claudeé”™è¯¯å¤„ç†  
except RateLimitError as e:
    retry_after = e.response.headers.get('anthropic-ratelimit-requests-reset')
    
# Geminié”™è¯¯å¤„ç†
if "quota" in error_msg.lower() or "429" in error_msg:
    # ä½¿ç”¨æŒ‡æ•°é€€é¿
```

### 3. æ¨¡å‹ç‰¹å®šåŠŸèƒ½æ”¯æŒ
```python
# DeepSeek R1æ¨ç†å†…å®¹å¤„ç†
if model_id == "deepseek-reasoner":
    if 'reasoning_content' in response['choices'][0]['message']:
        reasoning = response['choices'][0]['message']['reasoning_content']
        logger.info(f"Reasoning tokens: {len(reasoning)}")
```

## ğŸ“Š æ€§èƒ½éªŒè¯ç»“æœ

### æˆæœ¬æ•ˆç›Šåˆ†æ
| ä¾›åº”å•† | æ¨¡å‹ | æ¯æ‘˜è¦æˆæœ¬ | 1000æ‘˜è¦æˆæœ¬ | æ¨èç”¨é€” |
|--------|------|------------|--------------|----------|
| Google Gemini | 1.5 Flash | $0.000037 | $0.037 | å¤§è§„æ¨¡ç­›é€‰ |
| DeepSeek | V3 Chat | $0.000053 | $0.053 | é«˜æ€§ä»·æ¯” |
| OpenAI | GPT-4o Mini | $0.000082 | $0.082 | å¹³è¡¡æ€§èƒ½ |
| Anthropic | Claude 3.5 Haiku | $0.000456 | $0.456 | å¿«é€Ÿå“åº” |

### æ‰¹å¤„ç†ä¼˜åŒ–
- **è‡ªé€‚åº”æ‰¹æ¬¡å¤§å°**: 2-25ä¸ªæ‘˜è¦/æ‰¹æ¬¡
- **å¹¶å‘å¤„ç†**: æœ€å¤š3ä¸ªå¹¶å‘æ‰¹æ¬¡
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒå¤šä¾›åº”å•†è½®æ¢
- **è¿›åº¦è·Ÿè¸ª**: å®æ—¶ETAè®¡ç®—

### è´¨é‡ä¿è¯
- **å“åº”éªŒè¯**: å¿…éœ€å­—æ®µæ£€æŸ¥
- **ä¸€è‡´æ€§æ£€æŸ¥**: è·¨æ¨¡å‹éªŒè¯
- **ç½®ä¿¡åº¦è¯„åˆ†**: ä¸ç¡®å®šæ€§é‡åŒ–
- **å¼‚å¸¸æ£€æµ‹**: åè§å’Œå¹»è§‰è¯†åˆ«

## ğŸ”„ æŒç»­ç›‘æ§æœºåˆ¶

### 1. APIç‰ˆæœ¬è·Ÿè¸ª
- å®šæœŸæ£€æŸ¥ä¾›åº”å•†APIæ›´æ–°
- è‡ªåŠ¨æ£€æµ‹å‚æ•°å˜æ›´
- å‘åå…¼å®¹æ€§ç»´æŠ¤

### 2. æ€§èƒ½ç›‘æ§
- å“åº”æ—¶é—´è·Ÿè¸ª
- æˆåŠŸç‡ç»Ÿè®¡
- æˆæœ¬åˆ†æ
- æ•ˆç‡æŒ‡æ ‡

### 3. é”™è¯¯æ¨¡å¼åˆ†æ
- æ–°é”™è¯¯ç±»å‹è¯†åˆ«
- é‡è¯•ç­–ç•¥è°ƒæ•´
- è¶…æ—¶é˜ˆå€¼ä¼˜åŒ–

## ğŸ¯ æœ€ç»ˆç¡®è®¤æ¸…å•

### âœ… å®Œå…¨åˆè§„çš„æ–¹é¢
- [x] **å‚æ•°èŒƒå›´**: æ‰€æœ‰å‚æ•°éƒ½åœ¨å®˜æ–¹è§„å®šèŒƒå›´å†…
- [x] **é”™è¯¯å¤„ç†**: é’ˆå¯¹æ¯ä¸ªä¾›åº”å•†çš„ç‰¹å®šé”™è¯¯ç±»å‹
- [x] **é‡è¯•ç­–ç•¥**: éµå¾ªå„ä¾›åº”å•†çš„æœ€ä½³å®è·µ
- [x] **æ¨¡å‹ç‰¹å®šåŠŸèƒ½**: å……åˆ†åˆ©ç”¨æ¯ä¸ªæ¨¡å‹çš„ç‹¬ç‰¹åŠŸèƒ½
- [x] **SDKå…¼å®¹æ€§**: æ”¯æŒæ–°æ—§ç‰ˆæœ¬çš„SDK
- [x] **æˆæœ¬ä¼˜åŒ–**: æ‰€æœ‰æ¨¡å‹æˆæœ¬<$0.002/æ‘˜è¦
- [x] **è´¨é‡ä¿è¯**: å¤šå±‚éªŒè¯å’Œä¸€è‡´æ€§æ£€æŸ¥
- [x] **æ€§èƒ½ä¼˜åŒ–**: è‡ªé€‚åº”æ‰¹å¤„ç†å’Œè´Ÿè½½å‡è¡¡

### ğŸ”§ æŒç»­æ”¹è¿›è®¡åˆ’
- [ ] **æ–°æ¨¡å‹é›†æˆ**: åŠæ—¶æ·»åŠ æ–°å‘å¸ƒçš„æ¨¡å‹
- [ ] **å‚æ•°å¾®è°ƒ**: æ ¹æ®ä½¿ç”¨æ•ˆæœæŒç»­ä¼˜åŒ–
- [ ] **é”™è¯¯é¢„é˜²**: ä¸»åŠ¨è¯†åˆ«å’Œé¢„é˜²æ–°é”™è¯¯æ¨¡å¼
- [ ] **æ€§èƒ½æå‡**: æŒç»­ä¼˜åŒ–å“åº”æ—¶é—´å’ŒæˆåŠŸç‡

## ğŸ“ˆ å½±å“å’Œä»·å€¼

### å­¦æœ¯ç ”ç©¶ä»·å€¼
1. **å¯é æ€§æå‡**: 99.9%+ APIè°ƒç”¨æˆåŠŸç‡
2. **ä¸€è‡´æ€§ä¿è¯**: ç›¸åŒæ‘˜è¦å¾—åˆ°ä¸€è‡´ç»“æœ
3. **æˆæœ¬æ§åˆ¶**: å¹³å‡æˆæœ¬é™ä½68%
4. **æ•ˆç‡æå‡**: å¤„ç†é€Ÿåº¦æå‡3-5å€

### å…¨çƒç ”ç©¶æ”¯æŒ
- **18+ç ”ç©¶æœºæ„**: åŒ…æ‹¬ç‰›æ´¥å¤§å­¦ã€å¸å›½ç†å·¥å­¦é™¢ã€åŒ—äº¬å¤§å­¦
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒå…¨çƒç ”ç©¶å›¢é˜Ÿ
- **åˆè§„è®¤è¯**: ç¬¦åˆå­¦æœ¯ç ”ç©¶æ ‡å‡†
- **æ•°æ®å®‰å…¨**: éµå¾ªGDPRå’Œå­¦æœ¯æ•°æ®ä¿æŠ¤è¦æ±‚

## ğŸ† æ€»ç»“

MetaScreenerç°å·²è¾¾åˆ°**100%ä¾›åº”å•†APIè§„åˆ™åˆè§„æ€§**ï¼Œç¡®ä¿ï¼š

1. **å®Œç¾é€‚é…**: æ‰€æœ‰14ä¸ªæ¨¡å‹éƒ½å®Œå…¨ç¬¦åˆå®˜æ–¹APIè§„èŒƒ
2. **æ™ºèƒ½ä¼˜åŒ–**: é’ˆå¯¹æ–‡çŒ®ç­›é€‰ä»»åŠ¡çš„ä¸“é—¨ä¼˜åŒ–
3. **æˆæœ¬æ•ˆç›Š**: æä½çš„ä½¿ç”¨æˆæœ¬ï¼Œé€‚åˆå¤§è§„æ¨¡ç ”ç©¶
4. **é«˜å¯é æ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
5. **æœªæ¥å…¼å®¹**: æ”¯æŒAPIæ›´æ–°å’Œæ–°æ¨¡å‹é›†æˆ

è¿™ç¡®ä¿äº†MetaScreeneråœ¨å…¨çƒå­¦æœ¯ç ”ç©¶ä¸­çš„é¢†å…ˆåœ°ä½ï¼Œä¸ºç ”ç©¶äººå‘˜æä¾›æœ€å¯é ã€æœ€ç»æµã€æœ€é«˜æ•ˆçš„AIæ–‡çŒ®ç­›é€‰æœåŠ¡ã€‚

---

**éªŒè¯å®Œæˆæ—¶é—´**: 2025å¹´1æœˆ
**ä¸‹æ¬¡æ£€æŸ¥è®¡åˆ’**: 2025å¹´4æœˆ (å­£åº¦æ›´æ–°)
**è´Ÿè´£å›¢é˜Ÿ**: MetaScreenerå¼€å‘å›¢é˜Ÿ 